<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8" />
  <title>FARRAH | Personalized Farrah schedule</title>
  <link rel="icon" type="image/png" href="images/logo.png">
  <link rel="stylesheet" href="css/HomeStyle.css">
  <link rel="stylesheet" href="css/personalizedSchedule.css">
</head>

<body>

  <!--slidebar button-->
  <div class="slidebar-btn" id="slidebarBtn">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </div>

  <div class="slidebar" id="slidebar">
    <ul>
      <br><br>
      <li><a href="PersonalInformation.html">Personal information</a></li><br>
      <li><a href="personalizedSchedules.html">FARRAH Personalized schedule</a></li><br>
      <li><a href="myschedules.php">My schedules</a></li>
      <li><a class="sign-out" href="Logout.php">Sign out </a></li>
    </ul>
  </div>

  <!-- header -->
  <header>
    <div class="header-left">
      <div class="logo">Farrah</div>
    </div>
    <nav>
      <ul>
        <li><a href="Home.html">Home</a></li>
        <li><a href="Destnition.html">Destinations</a></li>
      </ul>
    </nav>
  </header>
  <div class="search-popup" id="searchPopup">
    <div class="search-box" style="padding:10px;">
      <form id="homeSearchForm" action="#" method="get" style="display: flex; gap: 10px; align-items: center;">
        <input id="homeSearchInput" type="search" name="q" placeholder="Search in Destinations..."
          style="flex:1; padding:8px;" />
        <button type="submit"
          style="padding: 6px 12px; background: #d0a84b; border: none; color:#fff; border-radius:4px; cursor:pointer;">
          Search
        </button>
        <button type="button" id="closeSearch"
          style="font-size: 1.5rem; background: none; border: none; color: #444; cursor: pointer;">
          &times;
        </button>
      </form>
    </div>
  </div>

  <section class="form-container-personalized">
    <div class="form-box-personalized">
      <h2 class="form-title-personalized">Plan Your Personalized Trip</h2>
      <p class="form-subtitle-personalized">Answer a few questions, and we'll create your perfect schedule!</p>

     <form id="travel-form-personalized" action="myschedules.php" method="POST">

    <!-- Step 1: Region Selection (Dropdown) -->
    <div class="step-personalized" id="step-1-personalized">
        <label for="region-personalized">📍 Which region do you prefer?</label>
        <select id="region-personalized" name="region-personalized">
            <option value="">Select a Region</option>
            <option value="center">Center</option>
            <option value="south">️South</option>
            <option value="west">West</option>
            <option value="East">East</option>
            <option value="north">North</option>
        </select>
        <button type="button" onclick="nextStep(1)">Next</button>
    </div>

    <!-- Step 2: Destination Type -->
    <div class="step-personalized" id="step-2-personalized" style="display: none;">
        <label for="destination-personalized">📍 What type of destination do you prefer?</label>
        <select id="destination-personalized" name="destination-personalized">
            <option value="">Select a destination</option>
            <option value="oasis">🏝️ Oasis</option>
            <option value="mountainous">⛰️ Mountainous</option>
            <option value="sandy">🏜️ Sandy</option>
            <option value="marine">🌊 Marine</option>
            <option value="rocky">🪨 Rocky</option>
        </select>
        <button type="button" onclick="nextStep(2)">Next</button>
    </div>

   <!-- Step 3: Activities -->
<div class="step-personalized" id="step-3-personalized" style="display: none;">
    <label>🎯 What activities are you interested in?</label>
    <div id="activities-list">
        <label><input type="checkbox" name="things-to-do[]" value="camel_riding"> 🐪 Camel Riding</label>
        <label><input type="checkbox" name="things-to-do[]" value="camping"> ⛺ Camping</label>
        <label><input type="checkbox" name="things-to-do[]" value="cave_diving"> 🌊 Cave Diving</label>
        <label><input type="checkbox" name="things-to-do[]" value="hiking"> 🥾 Hiking</label>
        <label><input type="checkbox" name="things-to-do[]" value="photography"> 📸 Photography</label>
        <label><input type="checkbox" name="things-to-do[]" value="swimming"> 🏊 Swimming</label>
        <label><input type="checkbox" name="things-to-do[]" value="picnicking"> 🥪 Picnicking</label>
        <label><input type="checkbox" name="things-to-do[]" value="nature_walks"> 🌳 Nature Walks</label>
        <label><input type="checkbox" name="things-to-do[]" value="Stargazing">🔭 Stargazing</label>

    </div>
    <button type="button" onclick="nextStep(3)">Next</button>
</div>

<style>
  #activities-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
    gap: 5px; /* Even smaller gap */
    padding: 3px;
    width: 100%;
}

#activities-list label {
    display: flex;
    align-items: center;
    gap: 4px; /* Tighter spacing */
    font-size: 10px; /* Extra small text */
    white-space: nowrap;
    width: 100%;
}

#activities-list input {
    flex-shrink: 0;
    width: 12px; /* Smallest checkbox */
    height: 12px;
}

@media (max-width: 600px) {
    #activities-list {
        grid-template-columns: repeat(2, 1fr); /* 2 columns for smaller screens */
    }
}

</style>

    <!-- Step 4: Start Date -->
    <div class="step-personalized" id="step-4-personalized" style="display: none;">
        <label for="start-date-personalized">📅 When does your trip start?</label>
        <input type="date" id="start-date-personalized" name="start-date-personalized">
        <button type="button" onclick="nextStep(4)">Next</button>
    </div>

    <!-- Step 5: Duration -->
    <div class="step-personalized" id="step-5-personalized" style="display: none;">
        <label for="duration-personalized">📅 How many days will your trip be?</label>
        <input type="number" id="duration-personalized" name="duration-personalized" min="1" max="30">
        <button type="button" onclick="nextStep(5)">Generate Schedule</button>
    </div>
 <!-- Step 5: Duration -->
    <div class="step-personalized" id="step-6-personalized" style="display: none;">
        <label for="duration-personalized">End of question!</label>
    </div>
</form>
    </section>

      <!-- Success Popup -->
      <div id="success-popup-personalized" class="popup-overlay-personalized">
        <div class="popup-box-personalized">
          <p id="success-message-personalized"></p>
        </div>
      </div>

      <!-- Error Popup -->
      <div id="error-popup-personalized" class="popup-overlay-personalized">
        <div class="popup-box-personalized">
          <p id="error-message-personalized"></p>
        </div>
      </div>
      <!-- footer -->
  <footer id="footer" class="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">
          <!-- About us -->
          <div class="col">
            <div class="single-footer">
              <h2>About Us</h2>
              <p>
                Welcome to Farrah Travel, your gateway to exploring the hidden treasures of Saudi Arabia.
                We are dedicated to providing curated travel experiences, insightful guides, and exceptional
                services to ensure every journey becomes an unforgettable adventure.
              </p>
            </div>
          </div>
          <!-- Vision -->
          <div class="col">
            <div class="single-footer">
              <h2>Vision</h2>
              <p>
                Our vision is to showcase the natural and cultural wonders of Saudi Arabia,
                creating memorable travel experiences for every explorer.
              </p>
            </div>
          </div>
          <!-- Contact Us-->
          <div class="col">
            <h2>Contact Us</h2>
            <ul class="social">
              <li>
                <img src="images/facebook-icon.png" alt="facebook" />
                <span>FarrahTravel</span>
              </li>
              <li>
                <img src="images/x-icon.png" alt="x" />
                <span>@FarrahTravel</span>
              </li>
              <li>
                <img src="images/instagram-icon.png" alt="instagram" />
                <span>@Farrah_Travel</span>
              </li>
              <li>
                <img src="images/gmail-icon.png" alt="gmail" />
                <span>info@farrahtravel.com</span>
              </li>
              <li>
                <img src="images/phone-icon.png" alt="phone" />
                <span>+966 555 123 456</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!--  copyright -->
    <div class="copyright">
      <div class="container">
        <div class="row">
          <div class="copyright-content">
            <p>
              © 2025 | All Rights Reserved by
              <span>Farrah Travel</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
// Slidebar toggler
const slidebarBtn = document.getElementById('slidebarBtn');
const slidebar = document.getElementById('slidebar');
slidebarBtn.addEventListener('click', () => {
  slidebar.classList.toggle('active');
  slidebarBtn.classList.toggle('is-active');
});

// Function to show popups
function showPopup(type, message) {
  let popupId = type === "success" ? "success-popup-personalized" : "error-popup-personalized";
  let messageId = type === "success" ? "success-message-personalized" : "error-message-personalized";

  document.getElementById(messageId).textContent = message;
  let popup = document.getElementById(popupId);
  popup.style.visibility = "visible";
  popup.style.opacity = "1";

  // Hide after 2 seconds
  setTimeout(() => closePopup(popupId), 2000);
}

// Function to close popups
function closePopup(id) {
  let popup = document.getElementById(id);
  popup.style.visibility = "hidden";
  popup.style.opacity = "0";
}
function nextStep(step) {
  // Get the other input elements (like text inputs or selects) for the current step
  let input = document.querySelector(`#step-${step}-personalized input, #step-${step}-personalized select`);

  // Check if there's any non-checkbox input that is empty (e.g., text input or select)
  if (input && !input.value.trim()) {
    showPopup("error", "🛑 Please fill in this field before proceeding.");
    return; // Stop if the input is empty
  }

  // Check if we are on step 5 (the step with the duration input)
  if (step === 5) {
    const durationInput = document.querySelector("#duration-personalized");

    // If duration is not filled or it's less than 1 day, show the error popup
    if (!durationInput.value.trim() || parseInt(durationInput.value) < 1) {
      showPopup("error", "🛑 Please select the number of days for your trip before proceeding.");
      return;
    }

    // Show the loading message first
    showPopup("loading", "⏳ Please do not click anywhere, we are generating your schedule!");

    // Immediately submit the form
    document.getElementById("travel-form-personalized").submit();

    // Redirect to my schedules page after a brief delay
    setTimeout(() => {
      window.location.href = "myschedules.php";
    }, 2000); // Adjust the delay (in milliseconds) if needed

    return; // Prevent going to the next step after step 5
  }

  // Check if we are on step 3 (activities selection)
  if (step === 3) {
    // Get the checkboxes for the current step (activities)
    const checkboxes = document.querySelectorAll(`#step-${step}-personalized input[name="things-to-do[]"]:checked`);

    // Check if at least one checkbox is selected
    if (checkboxes.length === 0) {
      // If no checkboxes are selected, show the error popup for activities
      showPopup("error", "🛑 Please select at least one activity before proceeding.");
      return;
    }
  }

  // If validation passes, proceed to the next step
  document.getElementById(`step-${step}-personalized`).style.display = 'none';
  document.getElementById(`step-${step + 1}-personalized`).style.display = 'block';
}


  </script>
</body>

</html>
